# Start swaylock, waybar, dunst, and swww init in the background
exec-once = swaylock -f &
exec-once = waybar & 
exec-once = dunst &
exec-once = swww init &

# Run the rest of the commands
exec-once = ~/.config/hypr/scripts/sleep.sh
exec-once = ~/.config/hypr/scripts/resetxdgportal.sh # reset XDPH for screenshare
exec-once = dbus-update-activation-environment --systemd WAYLAND_DISPLAY XDG_CURRENT_DESKTOP # for XDPH
exec-once = systemctl --user import-environment DISPLAY WAYLAND_DISPLAY XDG_CURRENT_DESKTOP # for XDPH
exec-once = systemctl --user restart pipewire # Restart pipewire to avoid bugs

# Remove the sleep command if it's not necessary
exec-once = sleep 0.3 && bash ~/.config/hypr/scripts/apply_wallpaper.sh
